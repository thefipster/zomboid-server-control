@using System.Reflection;
@using TheFipster.Zomboid.ServerControl.Config;
@using TheFipster.Zomboid.ServerControl.Models;

@if (Setting.Type == BoolSetting.SettingsType)
{
    <BoolSetting Setting="Setting" OnValueChanged="valueChanged" />
}

@if (Setting.Type == NumberSetting.SettingsType)
{
    <NumberSetting Setting="Setting" OnValueChanged="valueChanged" />
}

@if (Setting.Type == CoordinateSetting.SettingsType)
{
    <CoordinateSetting Setting="Setting" />
}

@if (Setting.Type == TextSetting.SettingsType)
{
    <TextSetting Setting="Setting" OnValueChanged="valueChanged" />
}

@code {
    [Parameter]
    public SettingsEntry Setting { get; set; }

    [Parameter]
    public EventCallback<SettingsUpdateEventArgs> OnValueChanged { get; set; }

    private async Task valueChanged(SettingsUpdateEventArgs e)
    {
        await OnValueChanged.InvokeAsync(e);
    }

}
